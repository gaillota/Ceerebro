<template name="rea.credentials.index">
    <section class="section">
        <div class="container">
            <h1 class="title">{{> icon name='key' size='is-medium'}} Credentials
                <small>{{countCredentials}}</small>
            </h1>
            <hr>
            <div class="columns" style="margin-bottom: 10px;">
                <div class="column">
                    <form action="" method="GET">
                        <p class="control has-addons">
                            <input type="text" class="input js-search-input" value="{{queryParam}}" placeholder="Search...">
                            <a class="button js-reset">Clear</a>
                        </p>
                    </form>
                </div>
                <div class="column">
                    <div class="pull-right">
                        <a href="{{pathFor 'rea.credentials.add'}}" class="button is-success">
                            {{> icon name='plus' size='is-small'}}
                            <span>Add</span>
                        </a>
                    </div>
                </div>
            </div>
            <div class="table-responsive">
                <table class="table is-striped">
                    <thead>
                    <tr>
                        <th>Domain</th>
                        <th class="is-hidden-mobile">Identifier</th>
                        <th class="is-hidden-mobile">Password</th>
                        <th></th>
                    </tr>
                    </thead>
                    <tbody>
                    {{#each credentials}}
                        <tr>
                            <td>
                                <a href="{{href}}" target="_blank">
                                    {{domain}}
                                </a>
                            </td>
                            <td class="is-hidden-mobile">{{identifier}}</td>
                            <td class="is-hidden-mobile">********</td>
                            <td>
                                <div class="is-pulled-right">
                                    <a href="#" class="button is-info is-small is-outlined js-credentials-see">
                                        {{> icon name='eye' size='is-small'}}
                                        <span class="is-hidden-mobile">See</span>
                                    </a>
                                    <a href="{{pathFor 'rea.credentials.edit' credentialsId=_id}}"
                                       class="button is-warning is-small is-outlined {{editButtonState}}">
                                        {{> icon name='edit' size='is-small'}}
                                        <span class="is-hidden-mobile">Edit</span>
                                    </a>
                                    <button class="button is-danger is-small is-outlined js-credentials-remove">
                                        <i class="fa fa-trash"></i>
                                    </button>
                                </div>
                            </td>
                        </tr>
                    {{/each}}
                    </tbody>
                </table>
            </div>
            {{#if isEmpty credentials}}
                <h5 class="title is-5 has-text-centered">
                    {{#with queryParam}}
                        No results for <em>{{this}}</em>.
                    {{else}}
                        No credentials for now...
                    {{/with}}
                </h5>
            {{/if}}
        </div>
    </section>
</template>