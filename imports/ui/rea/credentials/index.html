<template name="rea.credentials.index">
    <div class="container">
        <h1>
            {{> icon name='key'}} Credentials
            <small>
                {{countCredentials}}
                {{#with search}}

                {{/with}}
            </small>
        </h1>
        <hr>
        <div class="row" style="margin-bottom: 10px;">
            <div class="col-md-4 col-sm-6">
                <form class="form-inline">
                    <div class="form-group">
                        <input type="text" class="form-control js-search-input" value="{{queryParam}}" placeholder="Search...">
                        <button class="btn btn-default js-reset">Clear</button>
                    </div>
                </form>
            </div>
            <div class="col-md-8 col-sm-6">
                <div class="pull-right">
                    <a href="{{pathFor 'rea.credentials.add'}}" class="btn btn-success">
                        {{> icon name='plus'}} Add
                    </a>
                </div>
            </div>
        </div>
        <div class="table-responsive">
            <table class="table table-striped" style="margin-bottom: 150px;">
                <thead>
                <tr>
                    <th>Domain</th>
                    <th class="hidden-xs">Identifier</th>
                    <th class="hidden-xs">Password</th>
                    <th class="hidden-xs">Created at</th>
                    <th></th>
                </tr>
                </thead>
                <tbody>
                {{#each credentials}}
                    <tr>
                        <td>
                            <a href="{{href}}" target="_blank">
                                {{domain}}
                            </a>
                        </td>
                        <td class="hidden-xs">{{identifier}}</td>
                        <td class="hidden-xs">********</td>
                        <td class="hidden-xs">{{formatDate createdAt}}</td>
                        <td>
                            <div class="pull-right">
                                <div class="btn-group">
                                    <button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown" aria-haspopup="true"
                                            aria-expanded="false">
                                        {{> icon name='cogs'}}<span class="hidden-xs"> Actions</span> <span class="caret"></span>
                                    </button>
                                    <ul class="dropdown-menu dropdown-menu-right">
                                        <li>
                                            <a href="#" class="js-credentials-see">
                                                {{> icon name='eye'}}
                                                <span class="hidden-xs">See</span>
                                            </a>
                                        </li>
                                        <li>
                                            <a href="{{pathFor 'rea.credentials.edit' credentialsId=_id}}" class="{{editButtonState}}">
                                                {{> icon name='edit'}}
                                                <span class="hidden-xs">Edit</span>
                                            </a>
                                        </li>
                                        <li role="separator" class="divider"></li>
                                        <li>
                                            <a href="#" class="js-credentials-remove">
                                                {{> icon name='trash'}}
                                                <span class="hidden-xs">Remove</span>
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </td>
                    </tr>
                {{/each}}
                </tbody>
            </table>
        </div>
        {{#if isEmpty credentials}}
            <h5 class="text-center">
                {{#with queryParam}}
                    No results for <em>{{this}}</em>.
                {{else}}
                    No credentials for now...
                {{/with}}
            </h5>
        {{/if}}
    </div>

    {{> credentialsModal}}
</template>
